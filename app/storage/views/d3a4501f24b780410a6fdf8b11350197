<html>
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
    $(document).ready(function() {
        var max_fields      = 10; //maximum input boxes allowed
        var wrapper         = $(".input_fields_wrap"); //Fields wrapper
        var add_button      = $(".add_field_button"); //Add button ID

        var x = 1; //initlal text box count
        $(add_button).click(function(e){ //on add input button click
            e.preventDefault();
            if(x < max_fields){ //max input box allowed
                x++; //text box increment
                $(wrapper).append('<div>        <th>
                <div>
                <?php echo Form::label('state', 'State: '); ?>

                <?php echo Form::select('state', $states, null, ['id' => 'state']); ?>

                <?php echo $errors->first('state'); ?>

                </div>
                </th>
                <th><div class="row">
                <div class="large-9 columns">
                <label for="county">County:</label>
                <select id="county" name="county">
                </select>
                </div>
                </div></th>
                <th>
                <div>
                <?php echo Form::label('filingRate'); ?>

                <?php echo Form::text('filingRate'); ?>

                <?php echo $errors->first('FilingRate'); ?>

                </div>
                </th>></div>'); //add input box
            }
        });

        $(wrapper).on("click",".remove_field", function(e){ //user click on remove text
            e.preventDefault(); $(this).parent('div').remove(); x--;
        })
    });
</script>
</head>
<body>

<h1>Enter Rates for <?php echo $company->name; ?></h1>

<?php echo Form::open(['route' => 'vendorRates.store']); ?>

<table>
  <tr>
    <th>State</th>
    <th>County</th>
    <th>Filing Rate</th>
  </tr>

<tr>
    <div class="input_fields_wrap">
        <td>
        <div>
            <?php echo Form::label('state', 'State: '); ?>

            <?php echo Form::select('state', $states, null, ['id' => 'state']); ?>

            <?php echo $errors->first('state'); ?>

        </div>
        </td>
        <td><div class="row">
                <div class="large-9 columns">
                    <label for="county">County:</label>
                    <select id="county" name="county">
                    </select>
                </div>
            </div></td>
        <td>
            <div>
                <?php echo Form::label('filingRate'); ?>

                <?php echo Form::text('filingRate'); ?>

                <?php echo $errors->first('FilingRate'); ?>

            </div>
        </td>

    </div>



</tr>
    <button class="add_field_button">Add New Service Area</button>
</table>


<?php echo Form::hidden('vendorId', $vendorId); ?>

	<div><?php echo Form::submit('Save Rates'); ?><?php echo Form::reset('Reset'); ?></div>
<?php echo Form::close(); ?>

<a href="<?php echo URL::previous(); ?>">Go Back</a>
</body>
</html>
